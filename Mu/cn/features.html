<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="shortcut icon" href="../favicon.png" type="image/x-icon" />
    <title>Kreogist μ - 聆听天籁</title>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
    <script type="text/javascript" src="../javascripts/respond.js"></script>
    <script type="text/javascript" src="../javascripts/classie.js"></script>
    <script type="text/javascript" src="javascripts/kaji.js"></script>
    <script type="text/javascript" src="../javascripts/kcommon.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body id="features-page">
    <script>kaji.writeBanner("", "features.html");</script>
    <div class="wrapper">
        <div id="title">
          <section id="born-for-music">
            <h1>每一首歌曲都是主角</h1>
            <p>专注，为音乐而生。全新设计的界面让你的歌曲变得更加耀眼。重新设计的搜索功能让你不再错过任何一首歌曲。从现在起，μ能够自动适应你的屏幕，以便更好的欣赏每一张专辑。而您要做的，就是享受音乐的乐趣。</p>
            <img id="mu-logo" src="../images/mu-logo.png" alt="mu-logo">
          </section>
          <section id="lossless">
            <h2>无损，不失一切</h2>
            <p>播放音乐是播放器的基石，音质即是播放器的生命。μ全面支持各种无损音乐格式，亦支持MP3、AAC等常见主流音频格式。你只需插上耳机，静坐，倾听。</p>
            <div id="music-tag1" class="music-tags"></div>
            <div id="music-tag2" class="music-tags"></div>
            <div id="music-tag3" class="music-tags"></div>
            <div id="music-tag4" class="music-tags"></div>
            <div id="music-tag5" class="music-tags"></div>
            <div id="music-tag6" class="music-tags"></div>
            <div id="music-tag7" class="music-tags"></div>
            <div id="music-tag8" class="music-tags"></div>
          </section>
          <section id="enjoy-concert">
            <h2>随处开始你的音乐会</h2>
            <p>坚如磐石的Qt开发架构，能够让μ在目前所有的主流的操作系统上运行。强大的基础提供了强劲的性能与绝佳的用户体验。你的电脑已经待命，可以随时为你开始音乐会。</p>
            <img src="../images/preview-mac.png"   alt="preview-mac"   class="preview-pcs" id="preview-mac">
            <img src="../images/preview-linux.png" alt="preview-linux" class="preview-pcs" id="preview-linux">
            <img src="../images/preview-win.png"   alt="preview-win"   class="preview-pcs" id="preview-win">
          </section>
          <section id="open-source">
            <h2>开源力量</h2>
            <p>μ基于大量的开源项目构建。我们开放了μ的全部源代码，不仅仅希望μ能够持续进化，也能够满足极客们自定义的欲望。任何人都可以免费获得μ的源代码和开发文档，我们也提供及时的在线技术支持。</p>
            <img src="../images/open-source.png" alt="open-source" id="open-source-logo">
            <img src="../images/ffmpeg-logo.png" class="opensource-logos" alt="ffmpeg-logo" id="ffmpeg-logo">
            <img src="../images/qt-logo.png"     class="opensource-logos" alt="qt-logo"     id="qt-logo">
            <img src="../images/vlc-logo.png"    class="opensource-logos" alt="vlc-logo"    id="vlc-logo">
          </section>
          <section>
           <h2>开始你的音乐会吧</h2>
            <p><img src="../images/start_your_concert.png"></p>
            <p><a href="downloads.html">立即下载你自己的μ! ></a></p>
          </section>
      <footer>
        <script>kaji.writeFooter("");</script>
          </footer>
        </div>
    </div>
    <!--add parallax effect-->
    <div id="parallax-fore"></div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script type="text/javascript">
    (function(){

      var foreLayer,
          backLayer,
          sectionBoxes,
          sectionBoxesHeight;

      function reactType(y) {
        //-1 : before active
        //0  : now active
        //1  : after active
        if ( ( y > (0.70)*sectionBoxesHeight ) ) {
          return -1;
        } else if ( y < (0.1)*sectionBoxesHeight ) {
          return 1;
        } else {
          return 0;
        }
      }

      function iconReactType(y) {
        //-1 : before active
        //0  : now active
        //1  : after active
        if ( ( y < (-0.25)*sectionBoxesHeight ) ) {
          return 1;
        } else  {
          return 0;
        }
      }

      function setState(sectionBox){
        var state;
        if (sectionBox.id == "born-for-music"){
          state = iconReactType( sectionBox.getBoundingClientRect().top );
        } else {
          state = reactType( sectionBox.getBoundingClientRect().top );
        }

        switch (state) {
          case 1:
            sectionBox.setAttribute("class", "after-active");
            break;
          case -1:
            sectionBox.setAttribute("class", "before-active");
            break;
          case 0:
            sectionBox.setAttribute("class", "now-active");
            break;
        }
      }

      function applyState() {
        for (var i = 0;i < sectionBoxes.length;i++) {
          (function(i) {
            var j = i;
            setState(sectionBoxes[j]);
          }
          )(i);
        }
      }

      function kajiScroll(){
        //start parallax
        var Y = window.pageYOffset;
        backLayer.style.backgroundPosition = " 0 -" + Y*0.6 + "px";
        foreLayer.style.backgroundPosition = " 0 -" + Y*0.8 + "px";
        //end parallax

        applyState();
      }

      function init(){
        foreLayer = document.getElementById("parallax-fore");
        backLayer = document.body;
        sectionBoxes = Array.prototype.slice.call( document.querySelectorAll("#title>section") );
        sectionBoxesHeight = sectionBoxes[0].getBoundingClientRect().height;
        window.addEventListener("scroll",kajiScroll);
        applyState();
      }

      init();

    })();
    </script>
  </body>
</html>
